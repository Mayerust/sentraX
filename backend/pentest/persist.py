from utils.gpt_client import ask_gpt

def do_persist(target_ip, exploit_res, logger):
    if not exploit_res['sessions']:
        return {}
    prompt = f"Maintain access recommendations for sessions {exploit_res['sessions']}"
    actions = ask_gpt(prompt)
    # execute via session.execute(...)
    logger.info(f"Persistence actions: {actions}")
    return {"actions": actions}